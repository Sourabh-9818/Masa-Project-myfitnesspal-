<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sing up</title>
    <link rel="stylesheet" href="login.css">
</head>

<body>
    <form>
        <div id="sing_box">
            <h2>Sign Up</h2>

            <div class="inputbox" id="emailbox">
                <input type="email" class="eml" oninput="checkEml()" />
                <span>Email</span>

            </div>
            <p class="eml_error"></p>

            <div class="inputbox" id="passbox">
                <input type="password" class="psw" oninput="checkPsw()" />
                <span>Password</span>
            </div>
            <p class="pass_error"></p>
            <input type="submit" class="btn" value="LOG IN" />
            <p>Already have an account?</p>
            <a href="sign_in.html">Login now!</a>

        </div>
    </form>
</body>

</html>
<script>
    var userdata = JSON.parse(localStorage.getItem("userdetail")) || [];
    var btn = document.querySelector("form");
    btn.addEventListener("submit", function() {
        singUpdata(userdata)
    });

    function singUpdata(userdata) {

        event.preventDefault();

        var eml = document.querySelector(".eml");
        var psw = document.querySelector(".psw");
        if (eml.value == "" && psw.value == "") {
            var p = document.querySelector('.eml_error');
            p.innerHTML = "Enter Your Email";
            var p1 = document.querySelector('.pass_error');
            p1.innerText = "Password is required";

        } else if (eml.value == "") {
            var p = document.querySelector('.eml_error');
            p.innerText = "Enter Your Email";
        } else if (psw.value == "") {
            var p1 = document.querySelector(".pass_error");
            p1.innerText = "Password is required";
        } else {
            var obj = {
                email: eml.value,
                password: psw.value
            }
            eml.value = "";
            psw.value = "";
            userdata.push(obj);
            localStorage.setItem("userdetail", JSON.stringify(userdata));
            document.location.href = "sign_in.html";
        }
    }



    function checkEml() {

        var eml = document.querySelector(".eml");
        var p = document.querySelector('.eml_error');
        var emailbox = document.querySelector("#emailbox");
        if (eml.value == "") {

            p.innerText = "Please enter a valid email address";

            emailbox.classList.remove("validation");

        } else {

            p.innerText = "";

            emailbox.classList.add("validation");
        }

    }

    function checkPsw() {
        var psw = document.querySelector(".psw").value;
        var p1 = document.querySelector('.pass_error');
        var passbox = document.querySelector('#passbox');
        if (psw == "") {
            p1.innerText = "Password is required";
            passbox.classList.remove("validation");
        } else {
            p1.innerText = "";
            passbox.classList.add("validation");
        }

    }
</script>